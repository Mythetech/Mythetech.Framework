@using MudBlazor
@namespace Mythetech.Framework.Components.Switch
@inherits MudBooleanInput<T>
@typeparam T

<label class="@Classname" style="@Style" @onkeydown="@HandleKeyDownAsync" id="@_elementId">
    <span class="@SwitchSpanClassname">
        <span tabindex="0" class="@SwitchClassname">
            <span class="mud-switch-button-m3">
                <input @attributes="UserAttributes" tabindex="@(GetDisabledState() ? -1 : 0)" aria-readonly="@(GetReadOnlyState().ToString().ToLower())" type="checkbox" class="mud-switch-input-m3" checked="@BoolValue" @onchange="@OnChange" disabled="@GetDisabledState()" @onclick:preventDefault="@GetReadOnlyState()" required="@Required" />
                <span class="mud-switch-thumb-m3 @(BoolValue != true ? $"mud-switch-thumb-{Color.ToDescriptionString()}-m3" : null) @(string.IsNullOrEmpty(ThumbOffIcon) ? null : "mud-switch-thumb-off-icon-m3") d-flex align-center justify-center">
                    @if (!string.IsNullOrEmpty(ThumbIcon) && BoolValue == true)
                    {
                        <MudIcon Color="@Color" Icon="@ThumbIcon" Style="height:16px; width:16px;" />
                    }
                    else if (!string.IsNullOrEmpty(ThumbOffIcon) && BoolValue == false)
                    {
                        <MudIcon Icon="@ThumbOffIcon" Style="@IconStylename" />
                    }
                </span>
            </span>
        </span>
        <span class="@TrackClassname"></span>
    </span>
    @if (!String.IsNullOrEmpty(Label))
    {
        <MudText>@Label</MudText>
    }
    @if (ChildContent != null)
    {
        <MudText>
            @ChildContent
        </MudText>
    }
</label>
